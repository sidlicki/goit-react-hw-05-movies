{"version":3,"file":"static/js/969.74b6909a.chunk.js","mappings":"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","sources":["js/api.js","webpack://react-homework-template/./src/pages/stylesPages/MoviesDetails.module.css?eb12","pages/MoviesDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '5527974a8f05249e428d97880e3b7156';\n\nexport async function fetchTrendingMovies() {\n  const resp = await axios.get(\n    `${BASE_URL}/trending/movie/day?language=en-US&api_key=${API_KEY}`\n  );\n  return resp.data.results;\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const resp = await axios.get(\n    `${BASE_URL}/movie/${movieId}?language=en-US&api_key=${API_KEY}`\n  );\n  return resp.data;\n}\n\nexport async function fetchMovieCast(movieId) {\n  const resp = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?language=en-US&api_key=${API_KEY}`\n  );\n  return resp.data.cast;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const resp = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?language=en-US&api_key=${API_KEY}`\n  );\n  return resp.data.results;\n}\n\nexport async function fetchMovieByName(query) {\n  const resp = await axios.get(\n    `${BASE_URL}/search/movie?query=${query}&include_adult=false&language=en-US&page=1&api_key=${API_KEY}`\n  );\n  return resp.data.results;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MoviesDetails_button__2EKoO\",\"movieWrapper\":\"MoviesDetails_movieWrapper__OAQoz\",\"image\":\"MoviesDetails_image__dREnK\",\"movieInfo\":\"MoviesDetails_movieInfo__vqQck\",\"infoItem\":\"MoviesDetails_infoItem__m5w7V\",\"movieTitle\":\"MoviesDetails_movieTitle__w7nVA\",\"score\":\"MoviesDetails_score__6LbqA\",\"subtitle\":\"MoviesDetails_subtitle__KUIuu\",\"overview\":\"MoviesDetails_overview__Z8lFK\",\"genres\":\"MoviesDetails_genres__cSnK-\",\"buttonWrapper\":\"MoviesDetails_buttonWrapper__ADZlY\",\"wrapperAdditional\":\"MoviesDetails_wrapperAdditional__qSR0o\",\"subtitleAdd\":\"MoviesDetails_subtitleAdd__8TPlC\"};","import Loader from 'components/Loader/Loader';\nimport css from './stylesPages/MoviesDetails.module.css';\n\nimport { fetchMovieDetails } from 'js/api';\nimport { Suspense, lazy, useEffect, useRef, useState } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\n\n// import Cast from 'components/Cast/Cast';\n// import Reviews from 'components/Reviews/Reviews';\nconst Cast = lazy(() => import('components/Cast/Cast'));\nconst Reviews = lazy(() => import('components/Reviews/Reviews'));\n\nconst MoviesDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchDetailsSelectMovies = async () => {\n      setIsLoading(true);\n      try {\n        const resp = await fetchMovieDetails(movieId);\n        setMovieDetails(resp);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchDetailsSelectMovies();\n  }, [movieId]);\n\n  return (\n    <>\n      <div>\n        <Link className={css.button} to={backLinkRef.current}>\n          Go back\n        </Link>\n        {isLoading && <Loader />}\n        {movieDetails && (\n          <>\n            <div className={css.movieWrapper}>\n              <img\n                className={css.image}\n                src={\n                  movieDetails.poster_path\n                    ? `https://image.tmdb.org/t/p/w400/${movieDetails.poster_path}`\n                    : `https://upload.wikimedia.org/wikipedia/commons/0/0a/No-image-available.png`\n                }\n                alt={movieDetails.title}\n              />\n              <ul className={css.movieInfo}>\n                <li className={css.infoItem}>\n                  <h2 className={css.movieTitle}>{movieDetails.title}</h2>\n                  <p className={css.score}>\n                    User Score: {movieDetails.vote_average}\n                  </p>\n                </li>\n                <li className={css.infoItem}>\n                  <h3 className={css.subtitle}>Overview</h3>\n                  <p>{movieDetails.overview}</p>\n                </li>\n                <li className={css.infoItem}>\n                  <h3 className={css.subtitle}>Genres</h3>\n                  <p>\n                    {movieDetails.genres\n                      ?.map(genre => {\n                        return genre.name;\n                      })\n                      .join(', ')}\n                  </p>\n                </li>\n              </ul>\n            </div>\n            <div className={css.wrapperAdditional}>\n              <h4 className={`${css.subtitle} ${css.subtitleAdd}`}>\n                Additional information\n              </h4>\n              <ul className={css.buttonWrapper}>\n                <li>\n                  <NavLink className={css.button} to={`cast`}>\n                    Cast\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink className={css.button} to={`reviews`}>\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n              <Suspense fallback={<Loader />}>\n                <Routes>\n                  <Route path=\"cast\" element={<Cast />} />\n                  <Route path=\"reviews\" element={<Reviews />} />\n                </Routes>\n              </Suspense>\n            </div>\n          </>\n        )}\n      </div>\n    </>\n  );\n};\nexport default MoviesDetails;\n"],"names":["BASE_URL","API_KEY","fetchTrendingMovies","_fetchTrendingMovies","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","resp","_context","prev","next","axios","concat","sent","abrupt","data","results","stop","fetchMovieDetails","_x","_fetchMovieDetails","_callee2","movieId","_context2","fetchMovieCast","_x2","_fetchMovieCast","_callee3","_context3","cast","fetchMovieReviews","_x3","_fetchMovieReviews","_callee4","_context4","fetchMovieByName","_x4","_fetchMovieByName","_callee5","query","_context5","Cast","lazy","Reviews","_location$state$from","_location$state","_movieDetails$genres","useParams","location","useLocation","backLinkRef","useRef","state","from","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","isLoading","setIsLoading","useEffect","fetchDetailsSelectMovies","_ref","t0","console","log","finish","_jsx","_Fragment","children","_jsxs","Link","className","css","to","current","Loader","src","poster_path","alt","title","vote_average","overview","genres","map","genre","name","join","NavLink","Suspense","fallback","Routes","Route","path","element"],"sourceRoot":""}