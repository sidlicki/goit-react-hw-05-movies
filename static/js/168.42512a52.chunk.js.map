{"version":3,"file":"static/js/168.42512a52.chunk.js","mappings":"gRACA,EAAwB,uBAAxB,EAAwD,wBAAxD,EAAuF,sBAAvF,EAAoH,sBAApH,EAAmJ,wBAAnJ,EAA2L,+B,SCwD3L,EAnDgB,WAAO,IAADA,EAAAC,EACpBC,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,GAAkCL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACtBG,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAA2B,QAArBjB,EAAe,QAAfC,EAACa,EAASI,aAAK,IAAAjB,OAAA,EAAdA,EAAgBkB,YAAI,IAAAnB,EAAAA,EAAA,WAAAoB,OAAeR,IAmB9D,OAjBAS,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAuB,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACX,OAAnBnB,GAAa,GAAMiB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEEC,EAAAA,EAAAA,IAAkBnB,GAAS,KAAD,EAAvCe,EAAIC,EAAAI,KAEVzB,GAAU0B,EAAAA,EAAAA,GAAKN,IAAOC,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAEtBO,QAAQC,IAAGR,EAAAM,IAAM,QAEG,OAFHN,EAAAC,KAAA,GAEjBlB,GAAa,GAAOiB,EAAAS,OAAA,6BAAAT,EAAAU,OAAA,GAAAZ,EAAA,wBAEvB,kBAX4B,OAAAH,EAAAgB,MAAA,KAAAC,UAAA,KAa7BlB,GACF,GAAG,CAACV,KAGF6B,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAIG,UAAWC,EAAUF,SAAA,CAAC,YAExBG,EAAAA,EAAAA,KAAA,QAAMF,UAAWC,EAAWF,UAC1BG,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAIhC,EAAYiC,QAAQN,SAAC,cAGlCjC,IAAaoC,EAAAA,EAAAA,KAACI,EAAAA,EAAM,KACnBxC,GAAgC,IAAnBJ,EAAQ6C,SAAgBL,EAAAA,EAAAA,KAAA,MAAAH,SAAI,0BAE1CrC,EAAQ6C,OAAS,IAChBL,EAAAA,EAAAA,KAAA,MAAIF,UAAWC,EAASF,SACrBrC,EAAQ8C,KAAI,SAAAC,GACX,OACEZ,EAAAA,EAAAA,MAAA,MAAIG,UAAWC,EAASF,SAAA,EACtBF,EAAAA,EAAAA,MAAA,MAAIG,UAAWC,EAAWF,SAAA,CAAC,KAAGU,EAAOC,OAAO,QAC5CR,EAAAA,EAAAA,KAAA,KAAGF,UAAWC,EAAkBF,SAAEU,EAAOE,YAFbF,EAAOG,GAKzC,QAKV,C","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Reviews_title__t265C\",\"button\":\"Reviews_button__NWcZ6\",\"list\":\"Reviews_list__okdpy\",\"item\":\"Reviews_item__DJKij\",\"author\":\"Reviews_author__CqYAZ\",\"reviewContent\":\"Reviews_reviewContent__oX1fD\"};","import Loader from 'components/Loader/Loader';\nimport { fetchMovieReviews } from 'js/api';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? `/movies/${movieId}`);\n\n  useEffect(() => {\n    const fetchSelectMovieReviews = async () => {\n      setIsLoading(true);\n      try {\n        const resp = await fetchMovieReviews(movieId);\n\n        setReviews([...resp]);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchSelectMovieReviews();\n  }, [movieId]);\n\n  return (\n    <>\n      <h2 className={css.title}>\n        Reviews:\n        <span className={css.button}>\n          <Link to={backLinkRef.current}>Hide</Link>\n        </span>\n      </h2>\n      {isLoading && <Loader />}\n      {!isLoading && reviews.length === 0 && <h3>There are no reviews.</h3>}\n\n      {reviews.length > 0 && (\n        <ul className={css.list}>\n          {reviews.map(review => {\n            return (\n              <li className={css.item} key={review.id}>\n                <h3 className={css.author}>@ {review.author}:</h3>\n                <p className={css.reviewContent}>{review.content}</p>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </>\n  );\n};\nexport default Reviews;\n"],"names":["_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","isLoading","setIsLoading","movieId","useParams","location","useLocation","backLinkRef","useRef","state","from","concat","useEffect","fetchSelectMovieReviews","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","resp","_context","prev","next","fetchMovieReviews","sent","_toConsumableArray","t0","console","log","finish","stop","apply","arguments","_jsxs","_Fragment","children","className","css","_jsx","Link","to","current","Loader","length","map","review","author","content","id"],"sourceRoot":""}